# 数据库设计实战案例

> 通过实战案例学习数据库设计，每个案例都详细讲解设计思路、遇到的问题和解决方案。

## 📚 案例目录

1. [案例 1：电商系统 - 订单快照设计](./01_电商系统-订单快照设计.md)
2. [案例 2：博客系统 - 评论树形结构设计](./02_博客系统-评论树形结构设计.md)
3. [案例 3：社交系统 - 关注关系设计](./03_社交系统-关注关系设计.md)
4. [案例 4：在线教育系统 - 学习进度设计](./04_在线教育系统-学习进度设计.md)
5. [案例 5：任务管理系统 - 状态流转设计](./05_任务管理系统-状态流转设计.md)
6. [案例 6：CMS 系统 - 多租户设计](./06_CMS系统-多租户设计.md)
7. [案例 7：日志系统 - 高并发写入设计](./07_日志系统-高并发写入设计.md)

---

## 总结

### 设计思路总结

通过以上 7 个实战案例，我们学到了：

1. **订单快照**：业务需求优先，必要时可以违反范式化
2. **树形结构**：根据查询场景选择合适的设计方案（邻接表/路径枚举/闭包表）
3. **关系设计**：使用语义明确的字段名，避免混淆
4. **进度设计**：汇总表 + 明细表，兼顾查询性能和详细信息
5. **状态流转**：当前状态 + 历史表，记录完整变更链
6. **多租户**：所有表添加 `tenant_id`，确保数据隔离
7. **高并发写入**：分表 + 减少索引 + 异步写入

### 核心原则

-   ✅ **业务优先**：设计服务于业务需求，不是教条地遵循理论
-   ✅ **性能平衡**：在查询性能和存储空间之间找到平衡
-   ✅ **冗余合理**：合理使用冗余字段，避免频繁 JOIN 和统计查询
-   ✅ **索引适度**：索引不是越多越好，要根据查询场景设计
-   ✅ **扩展考虑**：设计时考虑未来扩展，但不过度设计

**记住**：数据库设计没有标准答案，只有最适合当前业务场景的方案。多实践、多思考、多总结！
