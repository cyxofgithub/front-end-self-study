## 相机Cameras
 在Babylon.js提供的许多相机中，常用的目前是2个：通用相机UniversalCamera，模仿第一人称的移动视角；弧形旋转相机ArcRotateCamera，它是一种轨道相机，可以控制远近和角度。随着WebVR的来临，可能常用的相机会增加。

如果要让用户对相机进行控制，就需要把输入事件绑定到初始化的canvas对象上，具体代码如下：

```javascript
camera.attachControl(canvas, true);
```

第二个参数是可选的，默认false。当false的时候，canvas的默认行为被禁止，也就是调用了event.preventDefault()，如果为true，canvas保留默认行为。

## 通用相机 Universal Camera
通用相机最早在Babylon.js2.3版本的时候被引入，可以根据输入设备响应键盘、鼠标、触摸和游戏手柄的控制操作，不需要再特别指定控制器。通用相机扩展并且替代了自由相机Free Camera、触摸相机Touch Camera和游戏手柄相机Gamepad Camera，但是考虑到兼容性问题，以上三种相机任然可以使用。

在使用函数快速创建整个场景时，通用相机会作为默认相机添加到场景中，假如想像第一人称射击游戏那样来控制我们的场景视角，通用相机也是最好的选择。

通用相机的默认控制：
- 键盘 - 左右方向键能够左右移动相机的视角，而上下方向键能够把相机拉近或推远。
- 鼠标 - 按住鼠标左键或右键进行拖动，可以控制相机的视角。
- 触摸屏 - 左右滑动可左右移动相机，上下滑动可拉近或推远；
- 游戏手柄 - 和设备相关，常规手柄就是上下左右键控制。

**构建通用相机：**
```javascript
// 参数顺序 : name相机名称, position相机放置的位置, scene场景实例
var camera = new BABYLON.UniversalCamera("UniversalCamera", new BABYLON.Vector3(0, 0, -10), scene);

//相机观察的目标，在这里表示：相机放在(0,0,-10)，镜头对准观察 (0,0,0)
camera.setTarget(BABYLON.Vector3.Zero());

// 让相机响应用户操作
camera.attachControl(canvas, true);
```

## 弧形旋转相机Arc Rotate Camera

## 跟随相机FollowCamera
跟随相机可以一直守望着ta。只要给它一个物体作为跟随目标，跟随相机能够从任何位置移动过来，一直紧盯目标物体，一旦物体移动了，跟随相机也会跟着移动。

创建跟随相机时需要设置它的初始位置，然后目标位置根据以下三个参数进行控制：

- camera.radius - 相机距离目标的距离
- camera.heightOffset - 相机朝目标上方的偏移
-camera.rotationOffset - 相机与目标在水平面的角度偏移，默认相机和目标在同一水平面：rotationOffset增加则相机会朝着顺时针方向围绕物体水平转动。

通过设置camera.cameraAcceleration加速度和camera.maxCameraSpeed最大速度，可以控制相机移动到目标位置的动态效果。

**构建跟随时机**
```javascript
// 参数: name相机名称, position相机位置, scene场景实例
var camera = new BABYLON.FollowCamera("FollowCam", new BABYLON.Vector3(0, 10, -10), scene);

// 相机距离目标的距离
camera.radius = 30;

// 相机朝目标上方的偏移
camera.heightOffset = 10;

// 相机与目标在水平面的角度偏移，默认相机和目标在同一水平面
camera.rotationOffset = 0;

// 相机靠近目标位置的加速度
camera.cameraAcceleration = 0.005

// 相机达到的最大速度
camera.maxCameraSpeed = 10

// 让相机响应用户操作
camera.attachControl(canvas, true);

// 注意：设置相机目标，注意BabylonJS V 2.5的变化
// targetMesh为目标物体
camera.target = targetMesh;   // babylon 2.4 版本以前
camera.lockedTarget = targetMesh; //babylon 2.5 版本以后
```

## 立体相机AnaglyphCameras

立体相机由通用相机和弧形旋转相机扩展而来，专门用来给3D眼镜(红色和青色镜片的那种眼镜)使用，它们用到了后期滤波器技术

**构建立体通用相机**
```javascript
// 参数 : name, position, eyeSpace, scene
var camera = new BABYLON.AnaglyphUniversalCamera("af_cam", new BABYLON.Vector3(0, 1, -15), 0.033, scene);
```

**构建立体弧形旋转相机**
```javascript
// 参数 : name, alpha, beta, radius, target, eyeSpace, scene
var camera = new BABYLON.AnaglyphArcRotateCamera("aar_cam", -Math.PI/2, Math.PI/4, 20, new BABYLON.Vector3.Zero(), 0.033, scene);
```
eyeSpace参数设置左眼视图和右眼视图之间的偏移量。 戴好3D眼镜后，可以尝试调整这个数值，取值为float。

## 设备方向相机Device Orientation Camera
这是专门设计用于对手持设备方向事件做出响应的相机，例如智能手机向前或向后，向左或向右倾斜，陀螺仪会改变方向，最后让屏幕显示横屏或者竖屏。


### 构建设备方向相机
```javascript
// 参数 : name, position, scene
var camera = new BABYLON.DeviceOrientationCamera("DevOr_camera", new BABYLON.Vector3(0, 0, 0), scene);

// 设置相机的观察目标位置
camera.setTarget(new BABYLON.Vector3(0, 0, -10));

// 设置相机响应移动和旋转的敏感度
camera.angularSensibility = 10;
camera.moveSensibility = 10;

// 让相机响应用户操作
camera.attachControl(canvas, true);
```

## 虚拟摇杆相机
这是特别为手持设备设计的，可以有一个虚拟摇杆显示在屏幕上，就像在手机上吃鸡的虚拟方向操纵杆那样。虚拟操纵杆是显示屏幕上的二维图形，用于控制相机的观察角度以及其他情况。

### 依赖
由于为触摸屏设备设计，所以需要依赖第三方插件hand.js

### 完整示例
```javascript
document.addEventListener("DOMContentLoaded", startGame, false);
function startGame() {
  if (BABYLON.Engine.isSupported()) {
    var canvas = document.getElementById("renderCanvas");
    var engine = new BABYLON.Engine(canvas, true);

    BABYLON.SceneLoader.Load("Espilit/", "Espilit.babylon", engine, function (newScene) {

      var VJC = new BABYLON.VirtualJoysticksCamera("VJC", newScene.activeCamera.position, newScene);
      VJC.rotation = newScene.activeCamera.rotation;
      VJC.checkCollisions = newScene.activeCamera.checkCollisions;
      VJC.applyGravity = newScene.activeCamera.applyGravity;

      // Wait for textures and shaders to be ready
      newScene.executeWhenReady(function () {
        newScene.activeCamera = VJC;
        // Attach camera to canvas inputs
        newScene.activeCamera.attachControl(canvas);
        // Once the scene is loaded, just register a render loop to render it
        engine.runRenderLoop(function () {
          newScene.render();
        }),
      }),
    }, function (progress) {
    // To do: give progress feedback to user.
    }),
  }
}
```

## 虚拟现实设备方向相机VR Device Orientation Cameras

## WebVR自由相机

## 飞行相机FlyCamera

## 自定义输入
 相机根据用户输入来交互的移动位置，如果满意Babylon.js提供的以上相机预设，那就愉快的使用下去，如果觉得不满意，请往下看。

如果你想基于现有的相机预设来增减用户输入行为，可以对现有相机进行自定义，或者全新定义一个相机的用户输入行为也是可以的。以上的相机都具备一个输入管理器，适应一些高级的应用场景。