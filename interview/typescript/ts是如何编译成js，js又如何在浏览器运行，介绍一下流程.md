## TypeScript 编译成 JavaScript 的流程

编写 TypeScript 代码：开发人员使用 TypeScript 语言编写代码，使用 TypeScript 所提供的类型检查、面向对象等特性。

编译 TypeScript 代码：在编写 TypeScript 代码后，需要使用 TypeScript 编译器将 TypeScript 代码编译成 JavaScript 代码。编译器会将 TypeScript 代码转换为 JavaScript 代码，并在转换的过程中进行类型检查等操作。

生成 JavaScript 代码：编译器会生成 JavaScript 代码文件，这些文件可以直接在浏览器或 Node.js 等 JavaScript 运行环境中运行。

## JavaScript 在浏览器中运行的过程

**解析代码：**当浏览器加载网页时，会将其中的 JavaScript 代码提取出来进行解析。解析器会逐行读取代码，并将其转换为可执行的语法树。

**创建全局执行环境：**在解析代码的过程中，浏览器会创建一个全局执行环境。全局执行环境是 JavaScript 代码的顶层环境，其中包含了全局变量、函数和其他可执行的代码。

**执行代码：**一旦解析器将代码转换为语法树，并创建了全局执行环境，就会开始执行代码。代码从全局执行环境开始执行，按照顺序逐行执行。

**处理函数调用和事件处理：**当代码中遇到函数调用或事件处理时，浏览器会创建一个新的执行环境，并将其加入到执行环境栈中。执行环境栈是一个记录执行上下文的数据结构，用于跟踪代码的执行顺序和执行环境的切换。

**处理异步操作：**JavaScript 中的异步操作（例如定时器、网络请求等）不会阻塞代码的执行。当遇到异步操作时，浏览器会将其放入任务队列中，并继续执行后续的代码。一旦主线程空闲，浏览器会从任务队列中取出异步操作，并将其放入执行环境栈中执行。

**更新页面：**在代码执行的过程中，如果涉及到对页面的修改（例如修改元素的内容、样式等），浏览器会将这些修改缓存起来，并在代码执行完成后，根据更新队列中的内容，对页面进行实际的更新。

重复执行步骤 3-6：上述过程会不断重复，直到代码执行完毕或浏览器关闭。
