## 受控组件与非受控组件的区别

### 受控和非控是什么意思呢？

其实也就是我们对某个组件状态的掌控，它的值是否只能由用户设置，而不能通过代码控制。

#### 受控组件

```javascript
class TestComponent extends React.Component {
    constructor(props) {
        super(props);
        this.state = {
            username: "lindaidai",
        };
    }
    onChange(e) {
        console.log(e.target.value);
        this.setState({
            username: e.target.value,
        });
    }
    render() {
        return (
            <input
                name="username"
                value={this.state.username}
                onChange={(e) => this.onChange(e)}
            />
        );
    }
}
```

注：input 显示什么是受程序控制的，完全可以在 setState 的时候调整这个值

#### 非受控组件

```javascript
import React, { Component } from "react";

export class UnControll extends Component {
    constructor(props) {
        super(props);
        this.inputRef = React.createRef();
    }
    handleSubmit = (e) => {
        console.log("我们可以获得input内的值为", this.inputRef.current.value);
        e.preventDefault();
    };
    render() {
        return (
            <form onSubmit={(e) => this.handleSubmit(e)}>
                <input defaultValue="lindaidai" ref={this.inputRef} />
                <input type="submit" value="提交" />
            </form>
        );
    }
}
```

在这个例子中组件的状态不受程序控制，完全由用户输入决定
