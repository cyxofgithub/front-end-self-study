## CSRF

CSRF 的全名 Cross Site Requet Forgery，翻译成中文就是跨站点请求伪造。它的一个攻击模式基本就是诱使用户访问一个页面，然后利用浏览器会默认发送 cookie 这样的一个特性去伪造用户身份进行操作（前提是用户在这个时间点登陆黑客要攻击的页面）。

**防范措施**

-   验证码：csrf 的攻击过程往往是利用用户不知情的情况进行攻击，利用验证码强制应用与用户必须进行交互，但是出于用户体验的考虑也不是很合理
-   Referer Check：每个正常请求的 refer 会有一定的规律，但是就是我们需要去维护一个映射表，在很多情况不会很方便。
-   Anti CSRF Token：现在最常见的还是 token 了，一般攻击者要进行 csrf 攻击，得先预测基本的参数，token 这种随机性让其难以预测和伪造
-   设置 cookie 属性，如 samesite、domain

注： Cookie 的 SameSite 属性用于控制浏览器在发送跨站请求时是否携带 Cookie。它的取值可以是 Strict、Lax 或 None。

-   Strict：Strict 模式下，浏览器在发送跨站请求时，不会携带任何 Cookie。这样可以有效防止跨站请求伪造（CSRF）攻击。但是，如果网页中存在跨站的正常操作（如跳转），可能会受到影响。
-   Lax：Lax 模式下，浏览器在发送跨站的非安全请求（如 POST 请求）时，不会携带 Cookie。但是，在跨站的安全请求（如 GET 请求）中，仍然会携带 Cookie。这样可以在一定程度上平衡安全性和用户体验。
-   None：None 模式下，浏览器在发送跨站请求时，始终会携带 Cookie。这样可以确保在跨站请求中正常使用 Cookie，但也增加了安全风险，容易受到跨站请求伪造（CSRF）攻击。
